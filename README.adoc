= Replik8s - Kubernetes real-time resource replicator

Replik8s watches resource definitions and keeps a record in a persistent volume.

== Configuration

Replik8s is configured with the ReplicationSource resources in the replik8s.rhpds.redhat.com API group.

Example Configuration:

--------------------------------------------
apiVersion: replik8s.rhpds.redhat.com/v1
kind: ReplicationSource
metadata:
  name: operators
data:
  spec:
    kubeConfig:
      secret: kubeconfig
    resources:
    - apiVersion: operators.coreos.com/v1alpha1
      kind: CatalogSource
    - apiVersion: operators.coreos.com/v1alpha1
      kind: ClusterServiceVersion
    - apiVersion: operators.coreos.com/v1alpha1
      kind: InstallPlan
    - apiVersion: operators.coreos.com/v1
      kind: Operator
    - apiVersion: operators.coreos.com/v1
      kind: OperatorGroup
    - apiVersion: operators.coreos.com/v1alpha1
      kind: Subscription
--------------------------------------------

To create kubeconfig secret for access to source cluster:

---------------------------------------------------------------
oc create secret generic kubeconfig --from-file=kubeconfig.yaml
---------------------------------------------------------------

The ReplicationSource must be created in the same namespace as where replik8s itself is running.

== Deploment

----------------------------------------------------------
oc new-project replik8s
helm template helm/replik8s --include-crds | oc apply -f -
----------------------------------------------------------
